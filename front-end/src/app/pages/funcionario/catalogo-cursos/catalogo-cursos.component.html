<mat-card class="filtros">
  <h2>Catálogo de Cursos</h2>

  <div class="grid-filtros">

    <mat-form-field appearance="outline">
      <mat-label>Buscar curso</mat-label>
      <input matInput [(ngModel)]="search" (input)="filtrar()">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Categoria</mat-label>
      <mat-select [(ngModel)]="categoria" (selectionChange)="filtrar()">
        <mat-option value="">Todas</mat-option>
        <mat-option *ngFor="let c of categorias" [value]="c">{{ c }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Instrutor</mat-label>
      <mat-select [(ngModel)]="instrutor" (selectionChange)="filtrar()">
        <mat-option value="">Todos</mat-option>
        <mat-option *ngFor="let i of instrutores" [value]="i">{{ i }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Dificuldade</mat-label>
      <mat-select [(ngModel)]="dificuldade" (selectionChange)="filtrar()">
        <mat-option value="">Todas</mat-option>
        <mat-option *ngFor="let d of dificuldades" [value]="d">{{ d }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Avaliação mínima</mat-label>
      <input matInput type="number" [(ngModel)]="avaliacaoMin" (input)="filtrar()">
    </mat-form-field>

  </div>

  <button mat-stroked-button color="warn" (click)="limparFiltros()">
    Limpar filtros
  </button>
</mat-card>


<!-- CATÁLOGO -->
<div class="catalogo">

  <mat-card *ngFor="let curso of cursosFiltrados" class="curso-card">

    <div class="header">
      <h3>{{ curso.titulo }}</h3>

      <mat-chip-set>
        <mat-chip color="primary">{{ curso.dificuldade }}</mat-chip>
        <mat-chip>{{ curso.categoria }}</mat-chip>
      </mat-chip-set>
    </div>

    <p>{{ curso.descricao }}</p>

    <p><strong>Duração:</strong> {{ curso.duracao }}h</p>
    <p><strong>Instrutor:</strong> {{ curso.instrutor }}</p>

    <div class="xp">
      <mat-icon>stars</mat-icon>
      {{ curso.xp }} XP
    </div>

    <div class="alerta" *ngIf="!curso.prerequisitosAtendidos">
      <mat-icon>warning</mat-icon>
      Pré-requisitos não atendidos
    </div>

    <button mat-raised-button color="primary">
      Ver detalhes
    </button>

  </mat-card>

</div>
