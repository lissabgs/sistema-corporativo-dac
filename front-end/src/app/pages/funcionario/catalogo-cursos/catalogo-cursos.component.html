<div class="page-background">
  <div class="container-catalogo">
    
    <div class="header-page">
      <h1>Catálogo de Cursos</h1>
      <p>Explore os cursos disponíveis para o seu departamento ({{ usuario?.departamentoNome }}) e nível ({{ usuario?.nivel }}).</p>
    </div>

    <div *ngIf="loading" class="loading-box">
      <p>Carregando cursos...</p>
    </div>

    <div class="curso-grid" *ngIf="!loading">
      
      <mat-card *ngFor="let curso of cursosDisponiveis" class="curso-card">
        <mat-card-header>
          <div mat-card-avatar class="course-avatar">
            <mat-icon>school</mat-icon>
          </div>
          <mat-card-title>{{ curso.titulo }}</mat-card-title>
          <mat-card-subtitle>{{ curso.codigo }}</mat-card-subtitle>
        </mat-card-header>
        
        <mat-card-content>
          <p class="desc-text">{{ curso.descricao }}</p>
          
          <div class="chips-row">
            <mat-chip [color]="getCorNivel(curso.nivelDificuldade)" selected>
              {{ curso.nivelDificuldade }}
            </mat-chip>
            <mat-chip class="xp-chip">
              <mat-icon matChipAvatar>star</mat-icon>
              {{ curso.xpOferecido }} XP
            </mat-chip>
            <mat-chip class="time-chip">
              <mat-icon matChipAvatar>schedule</mat-icon>
              {{ curso.duracaoEstimada }}
            </mat-chip>
          </div>
        </mat-card-content>
        
        <mat-card-actions align="end">
          <button mat-raised-button color="primary" (click)="inscrever(curso)">
            <mat-icon>login</mat-icon> Inscrever-se
          </button>
        </mat-card-actions>
      </mat-card>

    </div>

    <div *ngIf="!loading && cursosDisponiveis.length === 0" class="empty-state">
      <mat-icon>sentiment_dissatisfied</mat-icon>
      <h3>Nenhum curso disponível no momento.</h3>
      <p>Você já completou tudo ou não há cursos ativos para o seu perfil.</p>
    </div>

  </div>
</div>